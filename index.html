<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Roman Blind Calculator</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="root"></div>
    
    <script type="text/babel" src="components/BlindCalculations.js"></script>
    <script type="text/babel" src="components/MultiBlindCalculator.js"></script>
    <script type="text/babel" src="components/SingleBlindCalculator.js"></script>
    <script type="text/babel" src="components/RomanBlindCalculator.js"></script>
    <script type="text/babel">
        // Error boundary component to catch React errors
        class ErrorBoundary extends React.Component {
            constructor(props) {
                super(props);
                this.state = { hasError: false, error: null, errorInfo: null };
            }

            static getDerivedStateFromError(error) {
                return { hasError: true };
            }

            componentDidCatch(error, errorInfo) {
                this.setState({
                    error: error,
                    errorInfo: errorInfo
                });
                console.error("Error caught by ErrorBoundary:", error, errorInfo);
            }

            render() {
                if (this.state.hasError) {
                    return React.createElement('div', {
                            className: "p-6 bg-red-50 border-2 border-red-500 rounded-lg"
                        }, [
                            React.createElement('h2', {
                                className: "text-xl font-bold text-red-700 mb-2"
                            }, "Something went wrong!"),
                            React.createElement('details', {
                                className: "whitespace-pre-wrap text-sm font-mono bg-gray-100 p-2 rounded"
                            }, [
                                React.createElement('summary', null, "Click for error details"),
                                React.createElement('p', null, this.state.error && this.state.error.toString()),
                                React.createElement('p', null, this.state.errorInfo && this.state.errorInfo.componentStack)
                            ])
                        ]);
                }
                return this.props.children;
            }
        }

        const { StrictMode } = React;
        const { createRoot } = ReactDOM;
        
        // Add global error handler
        window.addEventListener('error', function(event) {
            console.error("Global error:", event.error);
        });
        
        const root = createRoot(document.getElementById('root'));
        root.render(
            React.createElement(StrictMode, null,
                React.createElement(ErrorBoundary, null,
                    React.createElement(RomanBlindCalculator)
                )
            )
        );
    </script>
</body>
</html>